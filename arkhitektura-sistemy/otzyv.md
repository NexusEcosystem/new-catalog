---
order: 2
title: Отзыв
---

Отзыв учетных данных управляется с помощью реестров отзыва в цепочке. Чтобы отозвать учетные данные, их идентификатор (или хэш идентификатора) необходимо добавить к учетным данным. Рекомендуется иметь один реестр отзыва для каждого типа учетных данных. Каждый реестр имеет уникальный идентификатор и связанную с ним политику. Политика определяет, кто может обновлять реестр отзыва.

:::note 

Один и тот же реестр отзыва должен быть повторно использован для тысяч учетных данных. Это ускоряет выдачу и повышает конфиденциальность.

:::

:::note 

Реестр отзыва является общим для всех схем одного и того же профиля организации.

:::

## **Список статусов W3C 2021 г.**

Является реестром доверия по умолчанию в Cyberos Workspace для неанонимных учетных данных. Это лучший выбор для большинства пользователей неанонимных учетных данных, но требует раскрытия идентификатора отзыва, который определяет, какие учетные данные отзываются. Этого можно избежать, используя анонимные учетные данные Cyberos, где вы доказываете, что идентификатор отзыва отсутствует в «списке» (аккумуляторе), не раскрывая сам идентификатор.

Этот реестр хорош для взаимодействия, поскольку он соответствует [стандарту W3C](https://www.w3.org/community/reports/credentials/CG-FINAL-vc-status-list-2021-20230102/) .

Он отслеживает все записи об отзыве в едином типе данных.

Блокчейн-транзакция для отзыва нескольких учетных данных одновременно обходится дешевле, чем в реестре отзыва Cyberos.

Поддерживает флаги отзыва и приостановки, которые позволяют указать, может ли идентификатор, добавленный в реестр, быть удален (что приведет к отмене отзыва) или нет.

## **Реестр отзыва Cyberos**

Оригинальный подход к отзыву неанонимных учетных данных, который реализуется с помощью списка личных статусов. Это предпочтительный подход только в определенных сценариях.

Транзакции блокчейна реестра отзыва Cyberos имеют другой профиль затрат, чем в списке статусов W3C 2021: он занимает больше места в реестре для нескольких записей, поэтому он обходится дороже при отзыве пакетами, но обходится дешевле для одной записи, когда отзываются одни учетные данные за один раз.

Требует раскрытия идентификатора отзыва, который в противном случае не был бы раскрыт при использовании анонимных учетных данных Cyberos.

Реестр имеет флаг «только добавление», указывающий, может ли идентификатор, добавленный в реестр, быть удален (что приведет к отмене отзыва) или нет.

На данный момент поддерживается только одна политика, которая заключается в том, что каждый реестр принадлежит одному DID. Кроме того, ни политика, ни флаг «add-only» не могут быть обновлены после создания реестра на данный момент.

## **Анонимный отзыв учетных данных**

Мы используем универсальные типы аккумуляторов VB и KB для анонимного отзыва учетных данных. Они имеют разные свойства, но оба являются аккумуляторами на основе билинейных пар карт.

Преимущества по сравнению со списком статусов 2021 года:

-  *Превосходная криптографическая проверка:* аккумуляторы обеспечивают надежные криптографические гарантии членства, в отличие от списков статусов, которые полагаются на простые поиски, не обладающие теми же математическими свойствами безопасности.

-  *Повышенная конфиденциальность за счет нулевого разглашения:* в отличие от списков статусов (таких как список статусов W3C 2021), которые требуют раскрытия идентификаторов отзыва, аккумуляторы позволяют доказать отсутствие отзыва, не раскрывая, какой именно идентификатор учетных данных проверяется, что позволяет осуществлять анонимный отзыв учетных данных.

-  *Постоянно эффективное хранилище:* в то время как списки состояний растут линейно с каждым новым добавленным элементом, аккумуляторы поддерживают представления постоянного размера независимо от того, сколько учетных данных включено, гарантируя, что требования к хранению остаются минимальными даже при больших масштабах.

-  *Комплексная защита конфиденциальности:* аккумуляторы обеспечивают принципиально более надежную защиту конфиденциальности, чем списки статусов, что делает их значительно более подходящими для приложений, где конфиденциальность как членства, так и конкретных проверяемых учетных данных имеет решающее значение, особенно для анонимных систем учетных данных.

-  *Проверка на основе свидетелей:* аккумуляторы используют подход на основе свидетельств, который позволяет держателям доказать отсутствие отзыва, не раскрывая идентификатор своих учетных данных, в отличие от списков статусов, которые требуют прямого раскрытия проверяемого идентификатора.

#### **Ключевые термины**

-  Идентификатор учетных данных

-  Свидетельство -- дополнительная информация, предоставляемая держателю удостоверения. Свидетельство выдается держателю во время первоначального процесса выдачи и должно быть перевыпущено или обновлено после каждого процесса отзыва.

-  Аккумулятор -- односторонняя функция, которая суммирует большой набор элементов в одно значение аккумулятора. Принадлежность включенного элемента может быть доказана с помощью аккумулятора, самого элемента и свидетельства. 

-  Транзакции обновления -- содержат добавления, удаления и многочлен обновления-свидетельства для обновления.

#### **Анонимный процесс отзыва**

-  Эмитент использует идентификатор выданных учетных данных для генерации аккумулятора, который сохраняется в блокчейне.

-  Эмитент предоставляет держателю удостоверение и свидетеля.

-  Во время отзыва эмитент помещает транзакцию обновления в блокчейн, которая обновляет аккумулятор, и которую держатель может использовать для обновления своего свидетеля. Самый последний аккумулятор присутствует в состоянии блокчейна, а обновления хранятся в «calldata», которые могут быть извлечены с помощью событий блокчейна.

-  Держатель использует свидетельство, накопитель и обновления для создания обновленного свидетельства, которое затем используется для создания доказательства неотзыва, показывая, что его идентификатор учетных данных включен в накопитель.

#### **Дополнительные ресурсы**

-  [Кодовая база аккумуляторов Rust](https://github.com/docknetwork/crypto/tree/main/vb_accumulator). Содержит дополнительную документацию, включая ссылки на 2 статьи, использованные для нашей реализации.

-  [Учебник Anoncreds](https://docknetwork.github.io/sdk/tutorials/tutorial_anoncreds.html)